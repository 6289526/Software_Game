{"version":3,"sources":["webpack://electrontodo/../node_modules/electron-tabs/index.js","webpack://electrontodo/external \"events\"","webpack://electrontodo/webpack/bootstrap","webpack://electrontodo/./src/etab.js"],"names":["EventEmitter","document","Error","styleTag","createElement","innerHTML","getElementsByTagName","appendChild","TabGroupPrivate","initNewTabButton","this","options","newTab","button","querySelector","buttonsContainerSelector","classList","add","tabClass","newTabButtonText","addEventListener","addTab","bind","undefined","initVisibility","toggleTabsVisibility","tab","tabGroup","visibilityThreshold","el","tabContainer","parentNode","tabs","length","remove","on","removeTab","triggerEvent","id","i","splice","emit","setActiveTab","unshift","activateRecentTab","activate","Tab","args","super","title","badge","iconURL","icon","closable","webviewAttributes","src","tabElements","TabPrivate","initTab","initWebview","visible","show","ready","isClosed","span","newPosition","children","oldPosition","getPosition","childElementCount","insertBefore","fromRight","position","previousSibling","activeTab","getActiveTab","webview","focus","flag","flash","classname","contains","force","abortController","AbortController","abort","abortSignal","signal","aborted","removeChild","viewContainer","setTitle","setBadge","setIcon","initTabButtons","initTabClickHandler","container","buttons","closeButtonText","close","e","which","target","matches","blur","viewClass","attrs","key","attr","setAttribute","module","exports","tabContainerSelector","viewContainerSelector","newTabId","push","active","getTabByPosition","getTabByRelPosition","slice","fn","getTabs","forEach","require","__webpack_module_cache__","__webpack_require__","moduleId","__webpack_modules__","enableRemoteModule","nodeIntegration","webviewTag"],"mappings":"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","file":"bundle.js","sourcesContent":["const EventEmitter = require(\"events\");\r\n\r\nif (!document) {\r\n  throw Error(\"electron-tabs module must be called in renderer process\");\r\n}\r\n\r\n// Inject styles\r\n(function () {\r\n  const styles = `\r\n    webview {\r\n      position: absolute;\r\n      visibility: hidden;\r\n      width: 100%;\r\n      height: 100%;\r\n    }\r\n    webview.visible {\r\n      visibility: visible;\r\n    }\r\n  `;\r\n  let styleTag = document.createElement(\"style\");\r\n  styleTag.innerHTML = styles;\r\n  document.getElementsByTagName(\"head\")[0].appendChild(styleTag);\r\n})();\r\n\r\nclass TabGroup extends EventEmitter {\r\n  constructor (args = {}) {\r\n    super();\r\n    let options = this.options = {\r\n      tabContainerSelector: args.tabContainerSelector || \".etabs-tabs\",\r\n      buttonsContainerSelector: args.buttonsContainerSelector || \".etabs-buttons\",\r\n      viewContainerSelector: args.viewContainerSelector || \".etabs-views\",\r\n      tabClass: args.tabClass || \"etabs-tab\",\r\n      viewClass: args.viewClass || \"etabs-view\",\r\n      closeButtonText: args.closeButtonText || \"&#215;\",\r\n      newTab: args.newTab,\r\n      newTabButtonText: args.newTabButtonText || \"&#65291;\",\r\n      visibilityThreshold: args.visibilityThreshold || 0,\r\n      ready: args.ready\r\n    };\r\n    this.tabContainer = document.querySelector(options.tabContainerSelector);\r\n    this.viewContainer = document.querySelector(options.viewContainerSelector);\r\n    this.tabs = [];\r\n    this.newTabId = 0;\r\n    TabGroupPrivate.initNewTabButton.bind(this)();\r\n    TabGroupPrivate.initVisibility.bind(this)();\r\n    if (typeof this.options.ready === \"function\") {\r\n      this.options.ready(this);\r\n    }\r\n  }\r\n\r\n  addTab (args = this.options.newTab) {\r\n    if (typeof args === \"function\") {\r\n      args = args(this);\r\n    }\r\n    let id = this.newTabId;\r\n    this.newTabId++;\r\n    let tab = new Tab(this, id, args);\r\n    this.tabs.push(tab);\r\n    // Don't call tab.activate() before a tab is referenced in this.tabs\r\n    if (args.active === true) {\r\n      tab.activate();\r\n    }\r\n    this.emit(\"tab-added\", tab, this);\r\n    return tab;\r\n  }\r\n\r\n  getTab (id) {\r\n    for (let i in this.tabs) {\r\n      if (this.tabs[i].id === id) {\r\n        return this.tabs[i];\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n\r\n  getTabByPosition (position) {\r\n    let fromRight = position < 0;\r\n    for (let i in this.tabs) {\r\n      if (this.tabs[i].getPosition(fromRight) === position) {\r\n        return this.tabs[i];\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n\r\n  getTabByRelPosition (position) {\r\n    position = this.getActiveTab().getPosition() + position;\r\n    if (position <= 0) {\r\n      return null;\r\n    }\r\n    return this.getTabByPosition(position);\r\n  }\r\n\r\n  getNextTab () {\r\n    return this.getTabByRelPosition(1);\r\n  }\r\n\r\n  getPreviousTab () {\r\n    return this.getTabByRelPosition(-1);\r\n  }\r\n\r\n  getTabs () {\r\n    return this.tabs.slice();\r\n  }\r\n\r\n  eachTab (fn) {\r\n    this.getTabs().forEach(fn);\r\n    return this;\r\n  }\r\n\r\n  getActiveTab () {\r\n    if (this.tabs.length === 0) return null;\r\n    return this.tabs[0];\r\n  }\r\n}\r\n\r\nconst TabGroupPrivate = {\r\n  initNewTabButton: function () {\r\n    if (!this.options.newTab) return;\r\n    let container = document.querySelector(this.options.buttonsContainerSelector);\r\n    let button = container.appendChild(document.createElement(\"button\"));\r\n    button.classList.add(`${this.options.tabClass}-button-new`);\r\n    button.innerHTML = this.options.newTabButtonText;\r\n    button.addEventListener(\"click\", this.addTab.bind(this, undefined), false);\r\n  },\r\n\r\n  initVisibility: function () {\r\n    function toggleTabsVisibility(tab, tabGroup) {\r\n      var visibilityThreshold = this.options.visibilityThreshold;\r\n      var el = tabGroup.tabContainer.parentNode;\r\n      if (this.tabs.length >= visibilityThreshold) {\r\n        el.classList.add(\"visible\");\r\n      } else {\r\n        el.classList.remove(\"visible\");\r\n      }\r\n    }\r\n\r\n    this.on(\"tab-added\", toggleTabsVisibility);\r\n    this.on(\"tab-removed\", toggleTabsVisibility);\r\n  },\r\n\r\n  removeTab: function (tab, triggerEvent) {\r\n    let id = tab.id;\r\n    for (let i in this.tabs) {\r\n      if (this.tabs[i].id === id) {\r\n        this.tabs.splice(i, 1);\r\n        break;\r\n      }\r\n    }\r\n    if (triggerEvent) {\r\n      this.emit(\"tab-removed\", tab, this);\r\n    }\r\n    return this;\r\n  },\r\n\r\n  setActiveTab: function (tab) {\r\n    TabGroupPrivate.removeTab.bind(this)(tab);\r\n    this.tabs.unshift(tab);\r\n    this.emit(\"tab-active\", tab, this);\r\n    return this;\r\n  },\r\n\r\n  activateRecentTab: function (tab) {\r\n    if (this.tabs.length > 0) {\r\n      this.tabs[0].activate();\r\n    }\r\n    return this;\r\n  }\r\n};\r\n\r\nclass Tab extends EventEmitter {\r\n  constructor (tabGroup, id, args) {\r\n    super();\r\n    this.tabGroup = tabGroup;\r\n    this.id = id;\r\n    this.title = args.title;\r\n    this.badge = args.badge;\r\n    this.iconURL = args.iconURL;\r\n    this.icon = args.icon;\r\n    this.closable = args.closable === false ? false : true;\r\n    this.webviewAttributes = args.webviewAttributes || {};\r\n    this.webviewAttributes.src = args.src;\r\n    this.tabElements = {};\r\n    TabPrivate.initTab.bind(this)();\r\n    TabPrivate.initWebview.bind(this)();\r\n    if (args.visible !== false) {\r\n      this.show();\r\n    }\r\n    if (typeof args.ready === \"function\") {\r\n      args.ready(this);\r\n    }\r\n  }\r\n\r\n  setTitle (title) {\r\n    if (this.isClosed) return;\r\n    let span = this.tabElements.title;\r\n    span.innerHTML = title;\r\n    span.title = title;\r\n    this.title = title;\r\n    this.emit(\"title-changed\", title, this);\r\n    return this;\r\n  }\r\n\r\n  getTitle () {\r\n    if (this.isClosed) return;\r\n    return this.title;\r\n  }\r\n\r\n  setBadge (badge) {\r\n    if (this.isClosed) return;\r\n    let span = this.tabElements.badge;\r\n    this.badge = badge;\r\n\r\n    if (badge) {\r\n      span.innerHTML = badge;\r\n      span.classList.remove('hidden');\r\n    } else {\r\n      span.classList.add('hidden');\r\n    }\r\n\r\n    this.emit(\"badge-changed\", badge, this);\r\n  }\r\n\r\n  getBadge () {\r\n    if (this.isClosed) return;\r\n    return this.badge;\r\n  }\r\n\r\n  setIcon (iconURL, icon) {\r\n    if (this.isClosed) return;\r\n    this.iconURL = iconURL;\r\n    this.icon = icon;\r\n    let span = this.tabElements.icon;\r\n    if (iconURL) {\r\n      span.innerHTML = `<img src=\"${iconURL}\" />`;\r\n      this.emit(\"icon-changed\", iconURL, this);\r\n    } else if (icon) {\r\n      span.innerHTML = `<i class=\"${icon}\"></i>`;\r\n      this.emit(\"icon-changed\", icon, this);\r\n    }\r\n\r\n    return this;\r\n  }\r\n\r\n  getIcon () {\r\n    if (this.isClosed) return;\r\n    if (this.iconURL) return this.iconURL;\r\n    return this.icon;\r\n  }\r\n\r\n  setPosition (newPosition) {\r\n    let tabContainer = this.tabGroup.tabContainer;\r\n    let tabs = tabContainer.children;\r\n    let oldPosition = this.getPosition() - 1;\r\n\r\n    if (newPosition < 0) {\r\n      newPosition += tabContainer.childElementCount;\r\n\r\n      if (newPosition < 0) {\r\n        newPosition = 0;\r\n      }\r\n    } else {\r\n      if (newPosition > tabContainer.childElementCount) {\r\n        newPosition = tabContainer.childElementCount;\r\n      }\r\n\r\n      // Make 1 be leftmost position\r\n      newPosition--;\r\n    }\r\n\r\n    if (newPosition > oldPosition) {\r\n      newPosition++;\r\n    }\r\n\r\n    tabContainer.insertBefore(tabs[oldPosition], tabs[newPosition]);\r\n\r\n    return this;\r\n  }\r\n\r\n  getPosition (fromRight) {\r\n    let position = 0;\r\n    let tab = this.tab;\r\n    while ((tab = tab.previousSibling) != null) position++;\r\n\r\n    if (fromRight === true) {\r\n      position -= this.tabGroup.tabContainer.childElementCount;\r\n    }\r\n\r\n    if (position >= 0) {\r\n      position++;\r\n    }\r\n\r\n    return position;\r\n  }\r\n\r\n  activate () {\r\n    if (this.isClosed) return;\r\n    let activeTab = this.tabGroup.getActiveTab();\r\n    if (activeTab) {\r\n      activeTab.tab.classList.remove(\"active\");\r\n      activeTab.webview.classList.remove(\"visible\");\r\n      activeTab.emit(\"inactive\", activeTab);\r\n    }\r\n    TabGroupPrivate.setActiveTab.bind(this.tabGroup)(this);\r\n    this.tab.classList.add(\"active\");\r\n    this.webview.classList.add(\"visible\");\r\n    this.webview.focus();\r\n    this.emit(\"active\", this);\r\n    return this;\r\n  }\r\n\r\n  show (flag) {\r\n    if (this.isClosed) return;\r\n    if (flag !== false) {\r\n      this.tab.classList.add(\"visible\");\r\n      this.emit(\"visible\", this);\r\n    } else {\r\n      this.tab.classList.remove(\"visible\");\r\n      this.emit(\"hidden\", this);\r\n    }\r\n    return this;\r\n  }\r\n\r\n  hide () {\r\n    return this.show(false);\r\n  }\r\n\r\n  flash (flag) {\r\n    if (this.isClosed) return;\r\n    if (flag !== false) {\r\n      this.tab.classList.add(\"flash\");\r\n      this.emit(\"flash\", this);\r\n    } else {\r\n      this.tab.classList.remove(\"flash\");\r\n      this.emit(\"unflash\", this);\r\n    }\r\n    return this;\r\n  }\r\n\r\n  unflash () {\r\n    return this.flash(false);\r\n  }\r\n\r\n  hasClass (classname) {\r\n    return this.tab.classList.contains(classname);\r\n  }\r\n\r\n  close (force) {\r\n    const abortController = new AbortController();\r\n    const abort = () => abortController.abort();\r\n    this.emit(\"closing\", this, abort);\r\n\r\n    const abortSignal = abortController.signal;\r\n    if (this.isClosed || (!this.closable && !force) || abortSignal.aborted) return;\r\n\r\n    this.isClosed = true;\r\n    let tabGroup = this.tabGroup;\r\n    tabGroup.tabContainer.removeChild(this.tab);\r\n    tabGroup.viewContainer.removeChild(this.webview);\r\n    let activeTab = this.tabGroup.getActiveTab();\r\n    TabGroupPrivate.removeTab.bind(tabGroup)(this, true);\r\n\r\n    this.emit(\"close\", this);\r\n\r\n    if (activeTab.id === this.id) {\r\n      TabGroupPrivate.activateRecentTab.bind(tabGroup)();\r\n    }\r\n  }\r\n}\r\n\r\nconst TabPrivate = {\r\n  initTab: function () {\r\n    let tabClass = this.tabGroup.options.tabClass;\r\n\r\n    // Create tab element\r\n    let tab = this.tab = document.createElement(\"div\");\r\n    tab.classList.add(tabClass);\r\n    for (let el of [\"icon\", \"title\", \"buttons\", \"badge\"]) {\r\n      let span = tab.appendChild(document.createElement(\"span\"));\r\n      span.classList.add(`${tabClass}-${el}`);\r\n      this.tabElements[el] = span;\r\n    }\r\n\r\n    this.setTitle(this.title);\r\n    this.setBadge(this.badge);\r\n    this.setIcon(this.iconURL, this.icon);\r\n    TabPrivate.initTabButtons.bind(this)();\r\n    TabPrivate.initTabClickHandler.bind(this)();\r\n\r\n    this.tabGroup.tabContainer.appendChild(this.tab);\r\n  },\r\n\r\n  initTabButtons: function () {\r\n    let container = this.tabElements.buttons;\r\n    let tabClass = this.tabGroup.options.tabClass;\r\n    if (this.closable) {\r\n      let button = container.appendChild(document.createElement(\"button\"));\r\n      button.classList.add(`${tabClass}-button-close`);\r\n      button.innerHTML = this.tabGroup.options.closeButtonText;\r\n      button.addEventListener(\"click\", this.close.bind(this, false), false);\r\n    }\r\n  },\r\n\r\n  initTabClickHandler: function () {\r\n    // Mouse up\r\n    const tabClickHandler = function (e) {\r\n      if (this.isClosed) return;\r\n      if (e.which === 2) {\r\n        this.close();\r\n      }\r\n    };\r\n    this.tab.addEventListener(\"mouseup\", tabClickHandler.bind(this), false);\r\n    // Mouse down\r\n    const tabMouseDownHandler = function (e) {\r\n      if (this.isClosed) return;\r\n      if (e.which === 1) {\r\n        if (e.target.matches(\"button\")) return;\r\n        this.activate();\r\n      }\r\n    };\r\n    this.tab.addEventListener(\"mousedown\", tabMouseDownHandler.bind(this), false);\r\n  },\r\n\r\n  initWebview: function () {\r\n    const webview = this.webview = document.createElement(\"webview\");\r\n\r\n    const tabWebviewDidFinishLoadHandler = function (e) {\r\n      this.emit(\"webview-ready\", this);\r\n    };\r\n\r\n    this.webview.addEventListener(\"did-finish-load\", tabWebviewDidFinishLoadHandler.bind(this), false);\r\n\r\n    const tabWebviewDomReadyHandler = function (e) {\r\n      // Remove this once https://github.com/electron/electron/issues/14474 is fixed\r\n      webview.blur();\r\n      webview.focus();\r\n      this.emit(\"webview-dom-ready\", this);\r\n    };\r\n\r\n    this.webview.addEventListener(\"dom-ready\", tabWebviewDomReadyHandler.bind(this), false);\r\n\r\n    this.webview.classList.add(this.tabGroup.options.viewClass);\r\n    if (this.webviewAttributes) {\r\n      let attrs = this.webviewAttributes;\r\n      for (let key in attrs) {\r\n        const attr = attrs[key];\r\n        if (attr === false) continue;\r\n        this.webview.setAttribute(key, attr);\r\n      }\r\n    }\r\n\r\n    this.tabGroup.viewContainer.appendChild(this.webview);\r\n  }\r\n};\r\n\r\nmodule.exports = TabGroup;\r\n\r\n","module.exports = require(\"events\");;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","//const TabGroup = require('electron-tabs') normally but for demo :\nconst TabGroup = require('electron-tabs');\n\nlet tabGroup = new TabGroup({\n  newTab: {\n    title: 'client',\n    src: '../client/index.html',\n    webviewAttributes: {\n      enableRemoteModule: true,\n      nodeIntegration: true,\n      webviewTag: true,\n    //   preload: './preload.js',\n    },\n    visible: true,\n    active: true,\n  },\n});\ntabGroup.addTab({\n  title: 'server',\n  src: '../server/index.html',\n  webviewAttributes: {\n    enableRemoteModule: true,\n    nodeIntegration: true,\n    webviewTag: true,\n    // preload: './preload.js',\n  },\n  visible: true,\n  active: true,\n});\ntabGroup.addTab({\n  title: 'client',\n  src: '../client/index.html',\n  webviewAttributes: {\n    enableRemoteModule: true,\n    nodeIntegration: true,\n    webviewTag: true,\n    // preload: './preload.js',\n  },\n  visible: true,\n  active: true,\n});"],"sourceRoot":""}